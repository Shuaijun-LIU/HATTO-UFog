# Isaac Sim showcase config (high-quality rendered demo)

sim:
  headless: true
  physics_dt_s: 0.0166666667   # ~60Hz
  rendering_dt_s: 0.0166666667
  steps: 240
  seed: 0
  # Resource policy: avoid fighting other jobs; use a single mostly-idle GPU (prefer higher index).
  auto_select_gpu: true
  prefer_high_gpu: true
  # Keep CPU usage reasonable by default (adjust if you need faster).
  limit_cpu_threads: 16

scene:
  ground_extent_m: 360.0
  ground_grid:
    enabled: true
    extent_m: 180.0
    spacing_m: 20.0
    line_width_m: 0.6
    line_height_m: 0.06
    color: [0.85, 0.85, 0.85]
  # Put buildings in a ring (keep center clear so camera doesn't clip into walls)
  clear_radius_m: 140.0
  camera_clearance_m: 12.0
  building_count: 56
  building_area_m: 220.0
  # Bias buildings into the view direction so the shot has a visible skyline/background.
  building_bias_prob: 0.75
  building_bias_arc_deg: 110.0
  building_height_min_m: 10.0
  building_height_max_m: 55.0
  ground_color: [0.10, 0.18, 0.10]
  building_color: [0.38, 0.40, 0.43]
  building_palette:
    - [0.35, 0.38, 0.42]
    - [0.50, 0.45, 0.40]
    - [0.32, 0.36, 0.39]
    - [0.55, 0.55, 0.58]
    - [0.42, 0.46, 0.52]

uav:
  altitude_m: 16.0
  radius_m: 28.0
  period_s: 7.0
  scale: 2.0

render:
  # Use a local HDRI from Isaac Sim install when available (auto-detected in the runner).
  # dome_texture: "/path/to/some.hdr"
  use_hdri: false
  dome_intensity: 400.0
  sun_intensity: 8000.0
  sun_color: [1.0, 0.98, 0.95]
  sun_direction: [0.2, 0.4, -1.0]

capture:
  enabled: true
  backend: replicator
  resolution: [1920, 1080]
  every_n_steps: 1
  warmup_steps: 20
  screenshot_step: 120
  camera:
    # Third-person cinematic view; must show both UAV + environment context.
    offset_m: [-120.0, -120.0, 60.0]
    up: [0.0, 0.0, 1.0]
    focal_length_mm: 18.0
    min_height_m: 24.0
    target_offset_m: [0.0, 0.0, -10.0]
    # Line-of-sight guardrails to keep UAV visible
    los_check: true
    los_push_m: 16.0
    los_raise_m: 10.0
    los_max_iters: 3
  quality:
    # Basic frame quality sanity checks (can be tightened later)
    min_mean: 5.0
    max_mean: 245.0
    min_std: 5.0
    min_edge: 1.0
